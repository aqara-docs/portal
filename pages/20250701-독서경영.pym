import streamlit as st
import mysql.connector
from mysql.connector import Error
import os
from dotenv import load_dotenv
import base64
import hashlib
import re
import time

# í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
load_dotenv()

st.set_page_config(page_title="ğŸµ ì´ì•¼ê¸° ì¬ìƒ ì „ìš©", layout="wide")

st.title("ğŸµ ë…ì„œê²½ì˜-ì´ì•¼ê¸° ì¬ìƒ ì „ìš©")

# DB ì—°ê²° í•¨ìˆ˜
def connect_to_db():
    try:
        connection = mysql.connector.connect(
            user=os.getenv('SQL_USER'),
            password=os.getenv('SQL_PASSWORD'),
            host=os.getenv('SQL_HOST'),
            database=os.getenv('SQL_DATABASE_NEWBIZ'),
            charset='utf8mb4',
            collation='utf8mb4_unicode_ci'
        )
        return connection
    except Error as e:
        st.error(f"ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜: {e}")
        return None

# ë…ì„œí† ë¡  ê¸°ë¡ ì‚­ì œ í•¨ìˆ˜
def delete_reading_discussion_record(record_id):
    """ë…ì„œí† ë¡  ê¸°ë¡ ì‚­ì œ"""
    connection = connect_to_db()
    if not connection:
        return False
    
    try:
        cursor = connection.cursor()
        cursor.execute("DELETE FROM reading_discussion_records WHERE id = %s", (record_id,))
        connection.commit()
        return cursor.rowcount > 0  # ì‚­ì œëœ í–‰ì´ ìˆìœ¼ë©´ True
    except Error as e:
        st.error(f"ë…ì„œí† ë¡  ê¸°ë¡ ì‚­ì œ ì¤‘ ì˜¤ë¥˜: {e}")
        connection.rollback()
        return False
    finally:
        if connection and connection.is_connected():
            cursor.close()
            connection.close()

# í…ìŠ¤íŠ¸ í¬ë§·íŒ… í•¨ìˆ˜
def format_bullet_points(text):
    """í…ìŠ¤íŠ¸ë¥¼ bullet point í˜•íƒœë¡œ í¬ë§·íŒ…"""
    lines = text.split('\n')
    formatted = []
    for line in lines:
        # ì œëª©(ì„¹ì…˜) ê°•ì¡°: êµµê²Œ ì²˜ë¦¬
        if line.strip().startswith('#') or line.strip().startswith('**') or (line.strip() and not line.strip().startswith('â€¢') and not line.strip().startswith('-')):
            formatted.append(f"**{line.strip().replace('#','').strip()}**")
        # bullet point
        elif 'â€¢' in line:
            parts = line.split('â€¢')
            new_line = parts[0]
            for part in parts[1:]:
                if part.strip():
                    new_line += '\nâ€¢ ' + part.strip()
            formatted.append(new_line)
        else:
            formatted.append(line)
    return '\n'.join(formatted)

# AI ì»¨í…ì¸  íŒŒì‹± í•¨ìˆ˜
def parse_ai_content(ai_content, content_type):
    """AI ì»¨í…ì¸ ë¥¼ íŒŒì‹±í•˜ì—¬ êµ¬ë¶„ëœ ì„¹ì…˜ìœ¼ë¡œ ë°˜í™˜"""
    if not ai_content:
        return None, None
    
    try:
        if content_type == 'summary':
            # Summary íƒ€ì…: ì›ë³¸ ìš”ì•½ íŒŒì¼ê³¼ AI ìƒì„± í•µì‹¬ ìš”ì•½ìœ¼ë¡œ êµ¬ë¶„
            if "=== ğŸ“ ì›ë³¸ ìš”ì•½ íŒŒì¼ ===" in ai_content and "=== ğŸ¤– AI ìƒì„± í•µì‹¬ ìš”ì•½ ===" in ai_content:
                parts = ai_content.split("=== ğŸ¤– AI ìƒì„± í•µì‹¬ ìš”ì•½ ===")
                original_part = parts[0].replace("=== ğŸ“ ì›ë³¸ ìš”ì•½ íŒŒì¼ ===", "").strip()
                ai_part = parts[1].strip() if len(parts) > 1 else ""
                return original_part, ai_part
                
        elif content_type == 'application':
            # Application íƒ€ì…: ì›ë³¸ ì ìš© íŒŒì¼ê³¼ AI ìš”ì•½ ë° ì´í‰ìœ¼ë¡œ êµ¬ë¶„
            if "=== ğŸ“ ì›ë³¸ ì ìš© íŒŒì¼ ===" in ai_content and "=== ğŸ¤– AI ìš”ì•½ ë° ì´í‰ ===" in ai_content:
                parts = ai_content.split("=== ğŸ¤– AI ìš”ì•½ ë° ì´í‰ ===")
                original_part = parts[0].replace("=== ğŸ“ ì›ë³¸ ì ìš© íŒŒì¼ ===", "").strip()
                ai_part = parts[1].strip() if len(parts) > 1 else ""
                return original_part, ai_part
                
        elif content_type == 'fable':
            # Fable íƒ€ì…: ì „ì²´ê°€ AI ìƒì„± ìš°í™”
            return None, ai_content
            
        # êµ¬ë¶„ìê°€ ì—†ëŠ” ê²½ìš° ì „ì²´ë¥¼ AI ë¶€ë¶„ìœ¼ë¡œ ê°„ì£¼
        return None, ai_content
        
    except Exception as e:
        st.warning(f"ì»¨í…ì¸  íŒŒì‹± ì¤‘ ì˜¤ë¥˜: {e}")
        return None, ai_content

# ë…ì„œí† ë¡  ë ˆì½”ë“œ ì¡°íšŒ í•¨ìˆ˜ (ë””ë²„ê¹… ê°•í™”)
def get_reading_discussion_records(content_type=None, book_title=None):
    connection = connect_to_db()
    if not connection:
        return []
    
    try:
        cursor = connection.cursor(dictionary=True)
        
        # ì¿¼ë¦¬ ë¡œê¹…ì„ ìœ„í•œ ì •ë³´ ìˆ˜ì§‘
        query = """
            SELECT id, book_title, source_file_name, content_type, ai_content, 
                   audio_data, audio_filename, fable_type, model_used, extra_prompt,
                   opening_ment, next_topic, previous_topic, created_at
            FROM reading_discussion_records 
            WHERE 1=1
        """
        params = []
        
        if content_type:
            query += " AND content_type = %s"
            params.append(content_type)
        
        if book_title:
            query += " AND book_title = %s"
            params.append(book_title)
        
        # IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
        query += " ORDER BY id DESC"
        
        # ë””ë²„ê·¸ ëª¨ë“œì—ì„œ ì¿¼ë¦¬ ì •ë³´ í‘œì‹œ
        if st.session_state.get("show_query_debug", False):
            st.sidebar.markdown("### ğŸ” ì¿¼ë¦¬ ë””ë²„ê·¸")
            st.sidebar.code(f"Query: {query}")
            st.sidebar.write(f"Params: {params}")
        
        cursor.execute(query, params)
        records = cursor.fetchall()
        
        # ë””ë²„ê·¸ ëª¨ë“œì—ì„œ ì¡°íšŒ ê²°ê³¼ í‘œì‹œ
        if st.session_state.get("show_query_debug", False):
            st.sidebar.write(f"ì¡°íšŒëœ ë ˆì½”ë“œ ìˆ˜: {len(records)}")
            for i, record in enumerate(records):
                st.sidebar.write(f"{i+1}. ID {record['id']}: {record['book_title']}")
                audio_size = len(record['audio_data']) if record['audio_data'] else 0
                st.sidebar.caption(f"   ìŒì„±: {audio_size} bytes, íŒŒì¼ëª…: {record['audio_filename']}")
        
        return records
        
    except Error as e:
        st.error(f"ë°ì´í„° ì¡°íšŒ ì˜¤ë¥˜: {e}")
        return []
    
    finally:
        if connection and connection.is_connected():
            cursor.close()
            connection.close()

# ìŒì„± íŒŒì¼ ì§€ë¬¸ ìƒì„± í•¨ìˆ˜
def generate_audio_fingerprint(audio_data):
    """ìŒì„± ë°ì´í„°ì˜ ê³ ìœ  ì§€ë¬¸ ìƒì„±"""
    if not audio_data:
        return "NO_AUDIO"
    
    # ìŒì„± ë°ì´í„°ì˜ í¬ê¸°ì™€ ì‹œì‘/ë ë¶€ë¶„ì˜ í•´ì‹œë¥¼ ì¡°í•©
    size = len(audio_data)
    start_hash = hashlib.md5(audio_data[:min(1000, size)]).hexdigest()[:8]
    end_hash = hashlib.md5(audio_data[-min(1000, size):]).hexdigest()[:8]
    
    return f"{size}_{start_hash}_{end_hash}"

# êµì°¨ ì°¸ì¡° ë¶„ì„ í•¨ìˆ˜
def analyze_audio_text_matching():
    """ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìŒì„±-í…ìŠ¤íŠ¸ ë§¤ì¹­ ë¶„ì„"""
    connection = connect_to_db()
    if not connection:
        return []
    
    try:
        cursor = connection.cursor(dictionary=True)
        cursor.execute("""
            SELECT id, book_title, content_type, ai_content, audio_data, created_at
            FROM reading_discussion_records 
            ORDER BY id ASC
        """)
        all_records = cursor.fetchall()
        
        analysis_results = []
        for record in all_records:
            # í…ìŠ¤íŠ¸ ì§€ë¬¸ ìƒì„± (ì²« 100ì)
            text_snippet = record['ai_content'][:100] if record['ai_content'] else "NO_TEXT"
            text_fingerprint = hashlib.md5(text_snippet.encode()).hexdigest()[:8]
            
            # ìŒì„± ì§€ë¬¸ ìƒì„±
            audio_fingerprint = generate_audio_fingerprint(record['audio_data'])
            
            analysis_results.append({
                'id': record['id'],
                'book_title': record['book_title'],
                'content_type': record['content_type'],
                'text_fingerprint': text_fingerprint,
                'audio_fingerprint': audio_fingerprint,
                'text_snippet': text_snippet,
                'created_at': record['created_at']
            })
        
        return analysis_results
        
    except Error as e:
        st.error(f"ë¶„ì„ ì¤‘ ì˜¤ë¥˜: {e}")
        return []
    
    finally:
        if connection and connection.is_connected():
            cursor.close()
            connection.close()

# ì±… ì œëª© ëª©ë¡ ì¡°íšŒ í•¨ìˆ˜
def get_book_titles():
    connection = connect_to_db()
    if not connection:
        return []
    
    try:
        cursor = connection.cursor()
        cursor.execute("SELECT DISTINCT book_title FROM reading_discussion_records ORDER BY book_title")
        titles = [row[0] for row in cursor.fetchall()]
        return titles
        
    except Error as e:
        st.error(f"ì±… ì œëª© ì¡°íšŒ ì˜¤ë¥˜: {e}")
        return []
    
    finally:
        if connection and connection.is_connected():
            cursor.close()
            connection.close()

# ë©”ì¸ ì•±
def main():
    st.markdown("### ğŸµ ì´ì•¼ê¸° ì¬ìƒ")
    st.write("ì €ì¥ëœ AI ìš”ì•½ê³¼ ìš°í™” ì½˜í…ì¸ ë¥¼ ì¡°íšŒí•˜ê³  ìŒì„±ì„ ì¬ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
    
    # ë°ì´í„° ê°œìˆ˜ ì„ íƒ
    col1, col2 = st.columns([3, 1])
    with col1:
        record_count = st.selectbox(
            "í‘œì‹œí•  ìµœê·¼ ë ˆì½”ë“œ ìˆ˜",
            [3, 5, 10, 15, 20, 30, 50],
            index=2,  # ë””í´íŠ¸ 10ê°œ
            key="record_count"
        )
    with col2:
        if st.button("ğŸ”„ ìƒˆë¡œê³ ì¹¨"):
            st.rerun()
    
    # ìµœê·¼ Nê°œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    all_records = get_reading_discussion_records()
    filtered_records = all_records[:record_count]
    
    if filtered_records:
        # í—¤ë”ì™€ ì¼ê´„ ì‚­ì œ ê¸°ëŠ¥
        col_header1, col_header2 = st.columns([3, 1])
        with col_header1:
            st.write(f"### ğŸ“‹ ì´ {len(filtered_records)}ê°œì˜ ê¸°ë¡ì´ ìˆìŠµë‹ˆë‹¤.")
        with col_header2:
            if st.button("ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ", key="delete_all_btn", type="secondary", help="í˜„ì¬ í‘œì‹œëœ ëª¨ë“  ê¸°ë¡ì„ ì‚­ì œí•©ë‹ˆë‹¤"):
                st.session_state["confirm_delete_all"] = True
        
        # ì „ì²´ ì‚­ì œ í™•ì¸
        if st.session_state.get("confirm_delete_all", False):
            st.error("ğŸš¨ **ì •ë§ë¡œ í˜„ì¬ í‘œì‹œëœ ëª¨ë“  ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?**")
            st.warning(f"âš ï¸ **{len(filtered_records)}ê°œì˜ ê¸°ë¡**ì´ ì˜êµ¬ ì‚­ì œë©ë‹ˆë‹¤. ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!")
            
            col_all1, col_all2, col_all3 = st.columns([1, 1, 2])
            with col_all1:
                if st.button("âœ… ì˜ˆ, ëª¨ë‘ ì‚­ì œ", key="confirm_delete_all_yes", type="primary"):
                    deleted_count = 0
                    for record in filtered_records:
                        if delete_reading_discussion_record(record['id']):
                            deleted_count += 1
                    
                    if deleted_count > 0:
                        st.success(f"ì´ {deleted_count}ê°œì˜ ê¸°ë¡ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")
                        if "confirm_delete_all" in st.session_state:
                            del st.session_state["confirm_delete_all"]
                        time.sleep(1)
                        st.rerun()
                    else:
                        st.error("ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")
            with col_all2:
                if st.button("âŒ ì•„ë‹ˆì˜¤, ì·¨ì†Œ", key="confirm_delete_all_no", type="secondary"):
                    if "confirm_delete_all" in st.session_state:
                        del st.session_state["confirm_delete_all"]
                    st.rerun()
            
            st.markdown("---")
        
        for i, record in enumerate(filtered_records):
            with st.expander(f"{'ğŸ“' if record['content_type'] == 'summary' else 'ğŸ“‹' if record['content_type'] == 'application' else 'ğŸ“š'} {record['book_title']} - {record['content_type'].upper()} ({record['created_at'].strftime('%Y-%m-%d %H:%M')})"):
                # ë©”íƒ€ë°ì´í„° ì •ë³´
                meta_col1, meta_col2 = st.columns(2)
                with meta_col1:
                    st.write(f"**ğŸ“– ì±… ì œëª©:** {record['book_title']}")
                    st.write(f"**ğŸ“„ ì›ë³¸ íŒŒì¼:** {record['source_file_name'] or 'N/A'}")
                    st.write(f"**ğŸ¤– ì‚¬ìš© ëª¨ë¸:** {record['model_used'] or 'N/A'}")
                with meta_col2:
                    if record['content_type'] == 'fable':
                        st.write(f"**ğŸ­ ìš°í™” ìŠ¤íƒ€ì¼:** {record['fable_type'] or 'N/A'}")
                    if record['next_topic']:
                        st.write(f"**â¡ï¸ ë‹¤ìŒ ì£¼ì œ:** {record['next_topic']}")
                    if record['previous_topic']:
                        st.write(f"**â¬…ï¸ ì´ì „ ì£¼ì œ:** {record['previous_topic']}")
                
                # ì¶”ê°€ í”„ë¡¬í”„íŠ¸ê°€ ìˆë‹¤ë©´ í‘œì‹œ
                if record['extra_prompt']:
                    st.write(f"**ğŸ’¡ ì¶”ê°€ í”„ë¡¬í”„íŠ¸:** {record['extra_prompt']}")
                
                # AI ìƒì„± ì½˜í…ì¸  í‘œì‹œ
                if record['ai_content']:
                    st.markdown("#### ğŸ“ ì €ì¥ëœ ì½˜í…ì¸ ")
                    if record['content_type'] == 'summary':
                        # ìš”ì•½ì˜ ê²½ìš° ì›ë³¸ê³¼ AI ìš”ì•½ì„ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
                        content = record['ai_content']
                        if "=== ğŸ“ ì›ë³¸ ìš”ì•½ íŒŒì¼ ===" in content and "=== ğŸ¤– AI ìƒì„± í•µì‹¬ ìš”ì•½ ===" in content:
                            parts = content.split("=== ğŸ¤– AI ìƒì„± í•µì‹¬ ìš”ì•½ ===")
                            if len(parts) == 2:
                                original_content = parts[0].replace("=== ğŸ“ ì›ë³¸ ìš”ì•½ íŒŒì¼ ===", "").strip()
                                ai_content = parts[1].strip()
                                
                                # íƒ­ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
                                sub_tab1, sub_tab2 = st.tabs(["ğŸ“ ì›ë³¸ ìš”ì•½", "ğŸ¤– AI í•µì‹¬ ìš”ì•½"])
                                with sub_tab1:
                                    st.markdown(format_bullet_points(original_content))
                                with sub_tab2:
                                    st.markdown(format_bullet_points(ai_content))
                            else:
                                st.markdown(format_bullet_points(content))
                        else:
                            st.markdown(format_bullet_points(content))
                    elif record['content_type'] == 'application':
                        # ì ìš© íŒŒì¼ì˜ ê²½ìš° ì›ë³¸ê³¼ AI ìš”ì•½ì„ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
                        content = record['ai_content']
                        if "=== ğŸ“ ì›ë³¸ ì ìš© íŒŒì¼ ===" in content and "=== ğŸ¤– AI ìš”ì•½ ë° ì´í‰ ===" in content:
                            parts = content.split("=== ğŸ¤– AI ìš”ì•½ ë° ì´í‰ ===")
                            if len(parts) == 2:
                                original_content = parts[0].replace("=== ğŸ“ ì›ë³¸ ì ìš© íŒŒì¼ ===", "").strip()
                                ai_content = parts[1].strip()
                                
                                # íƒ­ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
                                sub_tab1, sub_tab2 = st.tabs(["ğŸ“ ì›ë³¸ ì ìš© íŒŒì¼", "ğŸ¤– AI ìš”ì•½ ë° ì´í‰"])
                                with sub_tab1:
                                    st.markdown(format_bullet_points(original_content))
                                with sub_tab2:
                                    st.markdown(ai_content)
                            else:
                                st.markdown(format_bullet_points(content))
                        else:
                            st.markdown(format_bullet_points(content))
                    else:
                        # ìš°í™”ì˜ ê²½ìš° ê·¸ëŒ€ë¡œ í‘œì‹œ
                        st.markdown(record['ai_content'])
                
                # ìŒì„± ì¬ìƒ ê¸°ëŠ¥
                if record['audio_data']:
                    st.markdown("#### ğŸµ ìŒì„± ì¬ìƒ")
                    try:
                        # BLOB ë°ì´í„°ë¥¼ base64ë¡œ ë³€í™˜í•˜ì—¬ ì¬ìƒ
                        audio_base64 = base64.b64encode(record['audio_data']).decode('utf-8')
                        audio_html = f'''
                            <audio controls style="width: 100%;">
                                <source src="data:audio/mp3;base64,{audio_base64}" type="audio/mp3">
                                Your browser does not support the audio element.
                            </audio>
                        '''
                        st.markdown(audio_html, unsafe_allow_html=True)
                        
                        # ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
                        st.download_button(
                            label="ğŸµ ìŒì„± íŒŒì¼ ë‹¤ìš´ë¡œë“œ",
                            data=record['audio_data'],
                            file_name=record['audio_filename'] or f"{record['content_type']}_{record['book_title']}_{record['id']}.mp3",
                            mime="audio/mp3",
                            key=f"download_audio_{record['id']}"
                        )
                    except Exception as e:
                        st.error(f"ìŒì„± ì¬ìƒ ì¤‘ ì˜¤ë¥˜: {str(e)}")
                else:
                    st.info("ì €ì¥ëœ ìŒì„± íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
                
                # ì‚­ì œ ê¸°ëŠ¥
                st.markdown("#### ğŸ—‘ï¸ ì‚­ì œ")
                col_delete1, col_delete2 = st.columns([3, 1])
                with col_delete1:
                    st.warning("âš ï¸ ì‚­ì œí•˜ë©´ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‹ ì¤‘í•˜ê²Œ ê²°ì •í•´ì£¼ì„¸ìš”.")
                with col_delete2:
                    if st.button(
                        "ğŸ—‘ï¸ ì‚­ì œ", 
                        key=f"delete_btn_{record['id']}", 
                        type="secondary",
                        help="ì´ ê¸°ë¡ì„ ì˜êµ¬ ì‚­ì œí•©ë‹ˆë‹¤"
                    ):
                        # ì„¸ì…˜ ìƒíƒœì— ì‚­ì œ í™•ì¸ ìš”ì²­ ì €ì¥
                        st.session_state[f"confirm_delete_{record['id']}"] = True
                
                # ì‚­ì œ í™•ì¸ ë‹¨ê³„
                if st.session_state.get(f"confirm_delete_{record['id']}", False):
                    st.error("ğŸš¨ **ì •ë§ë¡œ ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?**")
                    col_confirm1, col_confirm2, col_confirm3 = st.columns([1, 1, 2])
                    with col_confirm1:
                        if st.button("âœ… ì˜ˆ, ì‚­ì œ", key=f"confirm_yes_{record['id']}", type="primary"):
                            if delete_reading_discussion_record(record['id']):
                                st.success("ê¸°ë¡ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")
                                # ì‚­ì œ í™•ì¸ ìƒíƒœ ì´ˆê¸°í™”
                                if f"confirm_delete_{record['id']}" in st.session_state:
                                    del st.session_state[f"confirm_delete_{record['id']}"]
                                time.sleep(1)
                                st.rerun()  # í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ì‚­ì œëœ í•­ëª© ì œê±°
                            else:
                                st.error("ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")
                    with col_confirm2:
                        if st.button("âŒ ì•„ë‹ˆì˜¤, ì·¨ì†Œ", key=f"confirm_no_{record['id']}", type="secondary"):
                            # ì‚­ì œ í™•ì¸ ìƒíƒœ ì´ˆê¸°í™”
                            if f"confirm_delete_{record['id']}" in st.session_state:
                                del st.session_state[f"confirm_delete_{record['id']}"]
                            st.rerun()
                
                # êµ¬ë¶„ì„ 
                st.markdown("---")
    else:
        st.info("ì €ì¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. AI ìš”ì•½ì´ë‚˜ ìš°í™”ë¥¼ ìƒì„±í•˜ê³  ìŒì„±ì„ ìƒì„±í•´ë³´ì„¸ìš”!")
    
    # í‘¸í„°
    st.markdown("---")
    st.markdown("""
    **ğŸ’¡ ì‚¬ìš© íŒ:**
    - **íƒ­ êµ¬ë¶„**: "AI í•µì‹¬ ìš”ì•½" ë° "AI ìš”ì•½ ë° ì´í‰" íƒ­ì˜ ë‚´ìš©ì´ ì‹¤ì œ ìŒì„±ìœ¼ë¡œ ë³€í™˜ëœ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤
    - **ë‹¤ìš´ë¡œë“œ**: ê° ìŒì„± íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
    - **ì‚­ì œ ê¸°ëŠ¥**: ê°œë³„ ì‚­ì œ ë° ì „ì²´ ì‚­ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤
    - **ìµœì‹ ìˆœ ì •ë ¬**: ê°€ì¥ ìµœê·¼ì— ìƒì„±ëœ ì½˜í…ì¸ ë¶€í„° í‘œì‹œë©ë‹ˆë‹¤
    """)

if __name__ == "__main__":
    main() 